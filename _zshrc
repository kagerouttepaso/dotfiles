# Path to your oh-my-zsh configuration.
ZSH=$HOME/.oh-my-zsh

# Set name of the theme to load.
# Look in ~/.oh-my-zsh/themes/
# Optionally, if you set this to "random", it'll load a random theme each
# time that oh-my-zsh is loaded.
ZSH_THEME="xiong-chiamiov-plus"

# Example aliases
# alias zshconfig="mate ~/.zshrc"
# alias ohmyzsh="mate ~/.oh-my-zsh"
alias tmux="tmux -2"
alias sshx="ssh -XC"

stty stop undef

# Set to this to use case-sensitive completion
# CASE_SENSITIVE="true"

# Comment this out to disable bi-weekly auto-update checks
# DISABLE_AUTO_UPDATE="true"

# Uncomment to change how often before auto-updates occur? (in days)
# export UPDATE_ZSH_DAYS=13

# Uncomment following line if you want to disable colors in ls
# DISABLE_LS_COLORS="true"

# Uncomment following line if you want to disable autosetting terminal title.
# DISABLE_AUTO_TITLE="true"

# Uncomment following line if you want to disable command autocorrection
# DISABLE_CORRECTION="true"

# Uncomment following line if you want red dots to be displayed while waiting for completion
# COMPLETION_WAITING_DOTS="true"

# Uncomment following line if you want to disable marking untracked files under
# VCS as dirty. This makes repository status check for large repositories much,
# much faster.
# DISABLE_UNTRACKED_FILES_DIRTY="true"

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
plugins=(git cp svn tmuxinator)

source $ZSH/oh-my-zsh.sh

# Customize to your needs...

source ~/.my_proxy_setting


#check arch
if [ -x /usr/bin/uname ] || [ -x /bin/uname ] ; then
    echo `uname -sr`
    if [[ "`uname -sr`" =~ Linux ]] ; then
        export ARCHz="linux"
        echo Linux
    elif [[ "`uname -sr`" =~ CYGWIN ]] ; then
        export ARCHz="cygwin"
        echo Cygwin
    else
        export ARCHz="dummy"
    fi
else
export ARCHz="dummy"
fi


if [ "${ARCHz}" = "cygwin" ]; then
    cdcyg(){
        CD_DIR=""
        printf "which directory do you want to go in?
        a ) Desktop
        s ) WORK
        Please enter >"
        read CD_DIR
        if [ "${CD_DIR}" = "a" ] ; then
            echo " cd Desktop"
            cd /cygdrive/c/Users/`id -un`/Desktop/
        elif [ "${CD_DIR}" = "s" ] ; then
            echo " cd WORK"
            cd /cygdrive/d/WORK/
        elif [ "${CD_DIR}" = "" ] ; then
            echo " cd Desktop"
            cd /cygdrive/c/Users/`id -un`/Desktop/
        fi
    }
    export DISPLAY=:0.0
elif [ "${ARCHz}" = "linux" ]; then
    tmuxx(){
        tmux attach -d
    }
    md2html(){
        if [ "$1" = "" ]; then
            echo need markdown file path
            exit
        fi
        full_path="$1"
        filename=${full_path##*/}
        filename_without_extension=${filename%.*}
        if [ ${full_path%/*} = ${full_path} ]; then
            folder_path="."
        else
            folder_path=${full_path%/*}
        fi
        extension=${folder_path##*.}

        #echo ファイル名
        #echo $filename
        #echo 拡張子抜き
        #echo $filename_without_extension
        #echo フォルダパス
        #echo $folder_path
        #echo 拡張子
        #echo $extension

        pandoc -t html ${full_path} -s -o ${folder_path}/${filename_without_extension}.html
        gnome-open ${folder_path}/${filename_without_extension}.html >& /dev/null
    }
fi
